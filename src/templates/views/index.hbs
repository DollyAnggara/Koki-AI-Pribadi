<div class="kontainer-notifikasi" id="kontainerNotifikasi"></div>

<main class="kontainer-utama">
  <section class="panel aktif" id="panelBeranda">
    <div class="hero">
      <div class="hero-left">
        <h1 class="hero-title">ğŸ‘‹ Selamat Datang di <strong>Koki AI Pribadi</strong></h1>
        <p class="hero-sub">Asisten memasak pintar: identifikasi bahan, rekomendasi resep, manajemen pantry, dan panduan langkah demi langkah.</p>
        <div class="hero-ctas">
          <button class="btn-cta" id="btnGenerateMenu">ğŸ¤– Generate Menu</button>
          <button class="btn-cta secondary" id="btnChatKoki">ğŸ’¬ Chat dengan Koki AI</button>
        </div>
        <div class="hero-features">ğŸ“· Identifikasi bahan &nbsp; â€¢ &nbsp; â±ï¸ Timer real-time &nbsp; â€¢ &nbsp; ğŸ“§ Notifikasi via Email</div>
      </div>
      <div class="hero-right" aria-hidden="true">
        <svg class="hero-illustration" viewBox="0 0 120 100" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Ilustrasi Koki"><g fill="none" fill-rule="evenodd"><rect x="18" y="44" width="84" height="28" rx="6" fill="#f6f9fc" stroke="#e6eefb"/><path d="M28 44v-6a8 8 0 018-8h48a8 8 0 018 8v6" stroke="#d6e7ff" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/><path d="M40 36c2-6 10-8 20-8s18 2 20 8" stroke="#f3c6c6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><g stroke="#b6d9ff" stroke-linecap="round" stroke-width="2"><path d="M60 22c0-3 2-6 4-6s4 3 4 6"/><path d="M68 26c0-2 1-4 2-4s2 2 2 4"/></g></g></svg>
      </div>
    </div>

    <div class="kartu stats-kartu">
      <h3 class="kartu-judul">ğŸ“Š Statistik Dapur Anda</h3>
      <div class="stats-grid">
        <div class="stat-card"><div class="stat-icon">ğŸ§¾</div><div class="stat-body"><div class="stat-value" id="totalBahan">0</div><div class="stat-label">Total Bahan</div></div></div>
        <div class="stat-card"><div class="stat-icon">âŒ›</div><div class="stat-body"><div class="stat-value" id="bahanKadaluarsa">0</div><div class="stat-label">Hampir Kadaluarsa</div></div></div>
        <div class="stat-card"><div class="stat-icon">ğŸ“š</div><div class="stat-body"><div class="stat-value" id="totalResep">0</div><div class="stat-label">Resep Tersimpan</div></div></div>
        <div class="stat-card"><div class="stat-icon">â¤ï¸</div><div class="stat-body"><div class="stat-value" id="resepFavorit">0</div><div class="stat-label">Resep Favorit</div></div></div>
      </div>
    </div>
  </section>

  <section class="panel" id="panelResep">
    <div class="kartu">
      <h2 class="kartu-judul">ğŸ“– Daftar Resep</h2>
      <div class="form-grup"><input type="text" class="form-input" id="cariResep" placeholder="ğŸ” Cari resep..."></div>
    </div>
    <div class="grid-resep" id="daftarResep">
      {{#each resep}}
      <div class="kartu-resep">
        <div class="gambar-resep">ğŸ²</div>
        <div class="info-resep">
          <div class="nama-resep">{{this.nama}}</div>
          <div class="meta-resep"><span>â±ï¸ {{this.waktu}} menit</span><span>ğŸ”¥ {{this.kalori}} kkal</span></div>
        </div>
      </div>
      {{/each}}
    </div>
  </section>

  <section class="panel" id="panelBahan">
    <div class="kartu">
      <h2 class="kartu-judul">ğŸ“· Identifikasi Bahan dari Gambar</h2>
      <div class="area-upload" id="areaUpload">
        <p>ğŸ“¤ Klik atau seret gambar bahan makanan ke sini</p>
        <p style="font-size:.85rem;color:var(--warna-teks-sekunder);margin-top:8px;">AI akan mengidentifikasi bahan secara otomatis</p>
        <input type="file" id="inputGambar" accept="image/*" style="display:none;">
      </div>
      <img id="previewGambar" class="preview-gambar" style="display:none;" />
      <div id="hasilIdentifikasi" style="margin-top:12px;"></div>
    </div>

    <div class="kartu">
      <h2 class="kartu-judul">ğŸ¥— Bahan di Dapur Saya</h2>
      <div class="form-grup">
        <div style="display:flex;flex-direction:column;gap:8px;">
          <div style="display:flex;flex-direction:column;">
            <label for="namaBahanBaru"><strong>Nama bahan</strong></label>
            <input type="text" class="form-input" id="namaBahanBaru" placeholder="Nama bahan">
          </div>

          <div style="display:flex;flex-direction:column;">
            <label for="jumlahBahanBaru"><strong>Jumlah</strong></label>
            <input type="number" class="form-input" id="jumlahBahanBaru" placeholder="Jumlah">
          </div>

          <div style="display:flex;flex-direction:column;">
            <label for="satuanBahanBaru"><strong>Satuan</strong></label>
            <select id="satuanBahanBaru" class="form-input">
              <option value="gram">gram</option>
              <option value="kg">kg</option>
              <option value="liter">liter</option>
              <option value="ml">ml</option>
              <option value="butir">butir</option>
              <option value="potong">potong</option>
            </select>
          </div>

          <div style="display:flex;flex-direction:column;">
            <label for="kategoriBahanBaru"><strong>Kategori</strong></label>
            <select id="kategoriBahanBaru" class="form-input">
              <option value="lainnya">lainnya</option>
              <option value="sayur">sayur</option>
              <option value="buah">buah</option>
              <option value="daging">daging</option>
              <option value="rempah">rempah</option>
              <option value="bumbu">bumbu</option>
            </select>
          </div>

          <div style="display:flex;flex-direction:column;">
            <label for="lokasiPenyimpananBahanBaru"><strong>Lokasi penyimpanan</strong></label>
            <select id="lokasiPenyimpananBahanBaru" class="form-input">
              <option value="rak_dapur">rak_dapur</option>
              <option value="kulkas">kulkas</option>
              <option value="freezer">freezer</option>
              <option value="lainnya">lainnya</option>
            </select>
          </div>

          <div style="display:flex;flex-direction:column;">
            <label for="tanggalPembelianBahanBaru"><strong>Tanggal pembelian</strong></label>
            <input type="date" id="tanggalPembelianBahanBaru" class="form-input">
          </div>

          <div style="display:flex;flex-direction:column;">
            <label for="tanggalKadaluarsaBahanBaru"><strong>Tanggal kadaluarsa</strong></label>
            <input type="date" id="tanggalKadaluarsaBahanBaru" class="form-input">
          </div>

          <div>
            <button class="tombol-kirim" id="tombolTambahBahan">Tambah</button>
          </div>
        </div>
      </div>
      <ul class="daftar-bahan-kadaluarsa" id="daftarBahanSaya"></ul>
    </div>
  </section>

  <section class="panel" id="panelPantry">
    <div class="kartu">
      <h2 class="kartu-judul">ğŸ¯ Pantry Challenge</h2>
      <p>Gunakan bahan yang hampir kadaluarsa sebelum terbuang.</p>
    </div>

    <div class="kartu">
      <h3 class="kartu-judul">âš ï¸ Bahan Hampir Kadaluarsa</h3>
      <ul class="daftar-bahan-kadaluarsa" id="bahanHampirKadaluarsa">
        <li class="item-bahan segera"><span>ğŸ— Ayam - 1kg</span><span class="badge-kadaluarsa segera">SEGERA GUNAKAN!</span></li>
        <li class="item-bahan perhatian"><span>ğŸ¥• Wortel - 500g</span><span class="badge-kadaluarsa perhatian">2 hari lagi</span></li>
      </ul>
    </div>

    <div class="kartu">
      <h3 class="kartu-judul">ğŸ’¡ Rekomendasi Resep</h3>
      <div class="grid-resep" id="rekomendasiPantry">
        <div class="kartu-resep"><div class="gambar-resep">ğŸ²</div><div class="info-resep"><div class="nama-resep">Sup Ayam Wortel</div><div class="meta-resep"><span>â±ï¸ 30 menit</span><span>âœ… 2 bahan cocok</span></div></div></div>
      </div>
    </div>
  </section>

  <section class="panel" id="panelChat">
    <div class="kartu kontainer-chat">
      <h2 class="kartu-judul">ğŸ’¬ Chat dengan Koki AI</h2>
      <div class="area-pesan" id="areaPesan">
        <div class="pesan pesan-koki">Halo! ğŸ‘‹ Saya Koki AI, asisten memasak virtual Anda. Apa yang ingin Anda masak hari ini?</div>
      </div>
      <div id="indikatorMengetik" class="indikator-mengetik" style="display:none;"><span></span><span></span><span></span></div>
      <form class="form-chat" id="formChat"><input type="text" class="input-chat" id="inputPesan" placeholder="Ketik pesan Anda..."><button type="submit" class="tombol-kirim">Kirim</button></form>
    </div>
  </section>

  <section class="panel" id="panelTimer">
    <div class="kartu">
      <h2 class="kartu-judul">â±ï¸ Timer Memasak</h2>
      <div class="form-grup">
        <div style="display:flex;gap:10px;flex-wrap:wrap;">
          <input type="text" class="form-input" id="namaTimerBaru" placeholder="Nama timer (misal: Rebus telur)" style="flex:1;">
          <input type="number" class="form-input" id="menitTimerBaru" placeholder="Menit" style="width:100px;">
          <button class="tombol-timer tombol-mulai" id="tombolBuatTimer">+ Buat Timer</button>
        </div>
      </div>
    </div>

    <div class="kontainer-timer" id="daftarTimer"></div>
  </section>

  <section class="panel" id="panelMenu">
    <div class="kartu">
      <h2 class="kartu-judul">ğŸ“… Rencana Menu Mingguan</h2>
      <p>Rencanakan menu Anda dan dapatkan daftar belanja otomatis!</p>
      <button class="tombol-kirim" style="margin-top:15px;" id="tombolGenerateMenu">ğŸ¤– Generate Menu dengan AI</button>
    </div>

    <div class="kartu">
      <h3 class="kartu-judul">ğŸ“ Daftar Belanja Otomatis</h3>
      <ul class="daftar-bahan-kadaluarsa" id="daftarBelanja">
        <li class="item-bahan"><span>ğŸ— Ayam - 2kg</span><input type="checkbox"></li>
        <li class="item-bahan"><span>ğŸ¥• Wortel - 500g</span><input type="checkbox"></li>
      </ul>
      <button class="tombol-kirim" style="margin-top:15px;" id="tombolKirimEmail">ğŸ“§ Kirim ke Email</button>
    </div>
  </section>
</main>

{{> footer}}