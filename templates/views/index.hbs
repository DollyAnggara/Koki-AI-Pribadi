<div class="kontainer-notifikasi" id="kontainerNotifikasi"></div>

<main class="kontainer-utama">
  <section class="panel aktif" id="panelBeranda">
    <div class="kartu">
      <h2 class="kartu-judul">ğŸ‘‹ Selamat Datang di Koki AI Pribadi!</h2>
      <p>Aplikasi asisten memasak pintar yang akan membantu Anda:</p>
      <ul style="margin:12px 0 0 20px;">
        <li>ğŸ¤– Chat dengan Koki AI untuk panduan memasak step-by-step</li>
        <li>ğŸ“· Identifikasi bahan makanan dari foto</li>
        <li>ğŸ¯ Pantry Challenge - gunakan bahan yang hampir kadaluarsa</li>
        <li>ğŸ“Š Hitung kalori dan nutrisi resep</li>
        <li>â±ï¸ Timer memasak real-time</li>
        <li>ğŸ“§ Terima email menu mingguan otomatis</li>
      </ul>
    </div>

    <div class="kartu">
      <h3 class="kartu-judul">ğŸ“Š Statistik Dapur Anda</h3>
      <div class="info-nutrisi">
        <div class="item-nutrisi"><div class="nilai-nutrisi" id="totalBahan">0</div><div class="label-nutrisi">Total Bahan</div></div>
        <div class="item-nutrisi"><div class="nilai-nutrisi" id="bahanKadaluarsa">0</div><div class="label-nutrisi">Hampir Kadaluarsa</div></div>
        <div class="item-nutrisi"><div class="nilai-nutrisi" id="totalResep">0</div><div class="label-nutrisi">Resep Tersimpan</div></div>
        <div class="item-nutrisi"><div class="nilai-nutrisi" id="resepFavorit">0</div><div class="label-nutrisi">Resep Favorit</div></div>
      </div>
    </div>
  </section>

  <section class="panel" id="panelResep">
    <div class="kartu">
      <h2 class="kartu-judul">ğŸ“– Daftar Resep</h2>
      <div class="form-grup"><input type="text" class="form-input" id="cariResep" placeholder="ğŸ” Cari resep..."></div>
    </div>
    <div class="grid-resep" id="daftarResep">
      {{#each resep}}
      <div class="kartu-resep">
        <div class="gambar-resep">ğŸ²</div>
        <div class="info-resep">
          <div class="nama-resep">{{this.nama}}</div>
          <div class="meta-resep"><span>â±ï¸ {{this.waktu}} menit</span><span>ğŸ”¥ {{this.kalori}} kkal</span></div>
        </div>
      </div>
      {{/each}}
    </div>
  </section>

  <section class="panel" id="panelBahan">
    <div class="kartu">
      <h2 class="kartu-judul">ğŸ“· Identifikasi Bahan dari Gambar</h2>
      <div class="area-upload" id="areaUpload">
        <p>ğŸ“¤ Klik atau seret gambar bahan makanan ke sini</p>
        <p style="font-size:.85rem;color:var(--warna-teks-sekunder);margin-top:8px;">AI akan mengidentifikasi bahan secara otomatis</p>
        <input type="file" id="inputGambar" accept="image/*" style="display:none;">
      </div>
      <img id="previewGambar" class="preview-gambar" style="display:none;" />
      <div id="hasilIdentifikasi" style="margin-top:12px;"></div>
    </div>

    <div class="kartu">
      <h2 class="kartu-judul">ğŸ¥— Bahan di Dapur Saya</h2>
      <div class="form-grup">
        <div style="display:flex;gap:10px;flex-wrap:wrap;align-items:center;">
          <input type="text" class="form-input" id="namaBahanBaru" placeholder="Nama bahan" style="flex:1;">
          <input type="number" class="form-input" id="jumlahBahanBaru" placeholder="Jumlah" style="width:100px;">
          <div style="display:flex;flex-direction:column;gap:6px;">
            <select id="satuanBahanBaru" class="form-input" style="width:110px;">
              <option value="gram">gram</option>
              <option value="kg">kg</option>
              <option value="liter">liter</option>
              <option value="ml">ml</option>
              <option value="butir">butir</option>
              <option value="potong">potong</option>
            </select>
          </div>
          <div style="display:flex;flex-direction:column;gap:6px;">
            <select id="kategoriBahanBaru" class="form-input" style="width:160px;">
              <option value="lainnya">lainnya</option>
              <option value="sayur">sayur</option>
              <option value="buah">buah</option>
              <option value="daging">daging</option>
              <option value="rempah">rempah</option>
              <option value="bumbu">bumbu</option>
            </select>
          </div>
          <input type="date" class="form-input" id="kadaluarsaBahanBaru" style="width:150px;">
          <button class="tombol-kirim" id="tombolTambahBahan">Tambah</button>
        </div>
      </div>
      <ul class="daftar-bahan-kadaluarsa" id="daftarBahanSaya"></ul>
    </div>
  </section>

  <section class="panel" id="panelPantry">
    <div class="kartu">
      <h2 class="kartu-judul">ğŸ¯ Pantry Challenge</h2>
      <p>Gunakan bahan yang hampir kadaluarsa sebelum terbuang.</p>
    </div>

    <div class="kartu">
      <h3 class="kartu-judul">âš ï¸ Bahan Hampir Kadaluarsa</h3>
      <ul class="daftar-bahan-kadaluarsa" id="bahanHampirKadaluarsa">
        <li class="item-bahan segera"><span>ğŸ— Ayam - 1kg</span><span class="badge-kadaluarsa segera">SEGERA GUNAKAN!</span></li>
        <li class="item-bahan perhatian"><span>ğŸ¥• Wortel - 500g</span><span class="badge-kadaluarsa perhatian">2 hari lagi</span></li>
      </ul>
    </div>

    <div class="kartu">
      <h3 class="kartu-judul">ğŸ’¡ Rekomendasi Resep</h3>
      <div class="grid-resep" id="rekomendasiPantry">
        <div class="kartu-resep"><div class="gambar-resep">ğŸ²</div><div class="info-resep"><div class="nama-resep">Sup Ayam Wortel</div><div class="meta-resep"><span>â±ï¸ 30 menit</span><span>âœ… 2 bahan cocok</span></div></div></div>
      </div>
    </div>
  </section>

  <section class="panel" id="panelChat">
    <div class="kartu kontainer-chat">
      <h2 class="kartu-judul">ğŸ’¬ Chat dengan Koki AI</h2>
      <div class="area-pesan" id="areaPesan">
        <div class="pesan pesan-koki">Halo! ğŸ‘‹ Saya Koki AI, asisten memasak virtual Anda. Apa yang ingin Anda masak hari ini?</div>
      </div>
      <div id="indikatorMengetik" class="indikator-mengetik" style="display:none;"><span></span><span></span><span></span></div>
      <form class="form-chat" id="formChat"><input type="text" class="input-chat" id="inputPesan" placeholder="Ketik pesan Anda..."><button type="submit" class="tombol-kirim">Kirim</button></form>
    </div>
  </section>

  <section class="panel" id="panelTimer">
    <div class="kartu">
      <h2 class="kartu-judul">â±ï¸ Timer Memasak</h2>
      <div class="form-grup">
        <div style="display:flex;gap:10px;flex-wrap:wrap;">
          <input type="text" class="form-input" id="namaTimerBaru" placeholder="Nama timer (misal: Rebus telur)" style="flex:1;">
          <input type="number" class="form-input" id="menitTimerBaru" placeholder="Menit" style="width:100px;">
          <button class="tombol-timer tombol-mulai" id="tombolBuatTimer">+ Buat Timer</button>
        </div>
      </div>
    </div>

    <div class="kontainer-timer" id="daftarTimer"></div>
  </section>

  <section class="panel" id="panelMenu">
    <div class="kartu">
      <h2 class="kartu-judul">ğŸ“… Rencana Menu Mingguan</h2>
      <p>Rencanakan menu Anda dan dapatkan daftar belanja otomatis!</p>
      <button class="tombol-kirim" style="margin-top:15px;" id="tombolGenerateMenu">ğŸ¤– Generate Menu dengan AI</button>
    </div>

    <div class="kartu">
      <h3 class="kartu-judul">ğŸ“ Daftar Belanja Otomatis</h3>
      <ul class="daftar-bahan-kadaluarsa" id="daftarBelanja">
        <li class="item-bahan"><span>ğŸ— Ayam - 2kg</span><input type="checkbox"></li>
        <li class="item-bahan"><span>ğŸ¥• Wortel - 500g</span><input type="checkbox"></li>
      </ul>
      <button class="tombol-kirim" style="margin-top:15px;" id="tombolKirimEmail">ğŸ“§ Kirim ke Email</button>
    </div>
  </section>
</main>

{{> footer}}