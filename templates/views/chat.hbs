<main class="kontainer-utama">
  <section>
    <div class="kartu kontainer-chat">
      <h2 class="kartu-judul">ðŸ’¬ Chat dengan Koki AI</h2>
      <div class="area-pesan" id="areaPesan">
        <div class="pesan pesan-koki">Halo! ðŸ‘‹ Saya Koki AI, asisten memasak virtual Anda. Apa yang ingin Anda masak hari ini?</div>
      </div>
      <div id="indikatorMengetik" class="indikator-mengetik" style="display:none;"><span></span><span></span><span></span></div>
      <form class="form-chat" id="formChat"><input type="text" class="input-chat" id="inputPesan" placeholder="Ketik pesan Anda..."><button type="submit" class="tombol-kirim">Kirim</button></form>
    </div>
  </section>
</main>

<script>
  // Use the app's Socket.io chat rather than calling external APIs from the browser
  // (keeps API keys secret and reuses server-side Deepseek integration)
  document.addEventListener('DOMContentLoaded', () => {
    const input = document.getElementById('inputPesan');
    if (input) input.focus();

    // Allow Ctrl+Enter to submit quickly
    input?.addEventListener('keydown', (e) => {
      if (e.ctrlKey && e.key === 'Enter') {
        document.getElementById('formChat')?.dispatchEvent(new Event('submit', { bubbles: true, cancelable: true }));
      }
    });

    // Minor UX: show placeholder guidance
    const placeholder = input?.getAttribute('placeholder') || '';
    input?.setAttribute('placeholder', placeholder + ' (Tekan Enter untuk kirim, Ctrl+Enter untuk kirim cepat)');
  });
</script>

{{> footer}}